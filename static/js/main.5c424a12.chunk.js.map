{"version":3,"sources":["Components/Navbar.js","Firebase/config.js","Composables/useFetch.js","Components/Book.js","Components/LeftBar.js","Components/Booklist.js","Components/Home.js","Components/NotFound.js","Composables/useDocument.js","Composables/useStorage.js","Components/AddBook.js","Composables/useGetItem.js","Components/EditBooks.js","Components/BookDetails.js","Components/App.js","index.js"],"names":["Navbar","className","to","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFirestore","firestore","projectStorage","auth","storage","timestamp","FieldValue","serverTimestamp","useFetch","collection","useState","data","setData","isPending","setIsPending","error","setError","useEffect","collectionRef","abortCont","AbortController","onSnapshot","snap","results","docs","forEach","doc","push","id","err","console","log","name","message","abort","Book","book","classes","makeStyles","theme","root","flexGrow","paper","padding","spacing","image","width","height","img","margin","display","maxWidth","maxHeight","useStyles","Paper","Grid","container","item","xs","sm","direction","Typography","gutterBottom","variant","title","detail","categroy","ButtonBase","alt","src","LeftBar","categroys","onShow","value","onClick","map","index","BookList","props","books","setBooks","event","newBooks","innerHTML","target","fitlerBooks","filter","Home","Booklist","NotFound","useDocument","loading","setLoading","deleteDoc","docRef","delete","update","newValues","a","add","values","useStorage","url","setUrl","loadingUpload","uploadImage","file","storageRef","ref","child","put","res","getDownloadURL","then","downloadUrl","AddBook","author","setBook","history","useHistory","setFile","types","fileError","setFileError","uploadMessage","setUpMessage","handleChange","e","prevBook","handleClick","preventDefault","onSubmit","createdAt","setMessage","type","onChange","selected","files","includes","rows","disabled","useGetItem","setItem","get","load","EditBooks","BlogDetails","useParams","show","setShow","info","App","exact","path","BookDetails","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5c424a12.chunk.js","sourcesContent":["import {Link} from 'react-router-dom';\r\n\r\nconst Navbar = () => {\r\n    return (  <div className=\"navbar\">\r\n        <Link to=\"/\">\r\n        <h1>Lyngby Biblotik</h1>\r\n        </Link>\r\n        <div className=\"links\">\r\n                <Link to=\"/\">Home</Link>\r\n                <Link to=\"/addbook\">Add Book</Link>\r\n            </div>\r\n        \r\n    </div>);\r\n}\r\n \r\nexport default Navbar;","import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDqpox1kagK_YrIqw5zeIlhjPeHEegv-4A\",\r\n  authDomain: \"real-men-school.firebaseapp.com\",\r\n  projectId: \"real-men-school\",\r\n  storageBucket: \"real-men-school.appspot.com\",\r\n  messagingSenderId: \"883612867376\",\r\n  appId: \"1:883612867376:web:f567f67c2ce035b00346f5\"\r\n};\r\n\r\n\r\n\r\n//init firebase\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst projectFirestore = firebase.firestore();\r\nconst projectAuth = firebase.auth();\r\nconst projectStorage = firebase.storage()\r\n\r\n\r\nconst timestamp = firebase.firestore.FieldValue.serverTimestamp;\r\nexport { projectAuth, projectFirestore, projectStorage , timestamp };\r\n","import { useState, useEffect } from \"react\";\r\nimport { projectFirestore } from \"../Firebase/config\";\r\n\r\nconst useFetch = (collection) => {\r\n  const [data, setData] = useState(null);\r\n  const [isPending, setIsPending] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let collectionRef = projectFirestore.collection(collection);\r\n    const abortCont = new AbortController();\r\n    collectionRef.onSnapshot(\r\n      (snap) => {\r\n        let results = [];\r\n        snap.docs.forEach((doc) => {\r\n          // must wait for the server to create the timestamp & send it back\r\n          results.push({ ...doc.data(), id: doc.id });\r\n        });\r\n      //  console.log(\"hello\", results);\r\n        // update values\r\n        setIsPending(false);\r\n        setData(results);\r\n        setError(null);\r\n      },\r\n      (err) => {\r\n        console.log(err)\r\n        if(err.name === 'AbortError'){\r\n            console.log('fetch aborted')\r\n        }else {\r\n        setIsPending(false)\r\n        setError(err.message);\r\n        }\r\n      }\r\n    );\r\n    return () => abortCont.abort();\r\n  }, [collection]);\r\n\r\n  return { data, isPending, error };\r\n};\r\n\r\nexport default useFetch;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ButtonBase from '@material-ui/core/ButtonBase';\r\n\r\n\r\nconst Book = ({book}) => {\r\n\r\n    const useStyles = makeStyles((theme) => ({\r\n        root: {\r\n          flexGrow: 1,\r\n        },\r\n        paper: {\r\n          padding: theme.spacing(2),\r\n        },\r\n        image: {\r\n          width: 128,\r\n          height: 128,\r\n        },\r\n        img: {\r\n          margin: 'auto',\r\n          display: 'block',\r\n          maxWidth: '100%',\r\n          maxHeight: '100%',\r\n        },\r\n      }));\r\n  const classes = useStyles();\r\n    return (\r\n        <Paper className={classes.paper}>\r\n        <Grid container spacing={2}>\r\n        \r\n          <Grid item xs={12} sm container>\r\n            <Grid item xs container direction=\"column\" spacing={2}>\r\n              <Grid item xs>\r\n                <Typography gutterBottom variant=\"subtitle1\">\r\n                    {book.title}\r\n                </Typography>\r\n                <Typography variant=\"body2\" gutterBottom>\r\n                 {book.detail}\r\n                </Typography>\r\n                <Typography gutterBottom>\r\n                 {book.categroy}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid item>\r\n            <ButtonBase className={classes.image}>\r\n                <img className={classes.img} alt={book.img} src={book.img} />\r\n            </ButtonBase>\r\n       \r\n          </Grid>\r\n          </Grid>\r\n        </Grid>\r\n        </Paper>\r\n      );\r\n}\r\n \r\nexport default Book;","const LeftBar = ({categroys,onShow}) => {\r\n\r\n    return ( \r\n        \r\n        <aside className=\"column-leftbar\">\r\n            <div className=\"pane-content\">\r\n                <h2>Kategorier</h2> \r\n                <ul >\r\n                <li value=\"all\" onClick={onShow} >All</li>\r\n                {categroys.map((categroy,index) => (\r\n                  <li value={categroy} key={index} onClick={onShow}>{categroy}</li>\r\n                ))}\r\n            </ul>\r\n            </div>\r\n        </aside>\r\n     );\r\n}\r\n \r\nexport default LeftBar;","import { Link } from \"react-router-dom\"\r\nimport {useState} from 'react'\r\nimport Book from './Book'\r\nimport LeftBar from './LeftBar'\r\nconst BookList = (props) => {\r\n\r\n  const [books,setBooks] = useState(props.books)\r\n \r\n  \r\n  const filteredProjects = (event) => {\r\n    const newBooks = props.books;\r\n    const {innerHTML} = event.target\r\n    setBooks(newBooks)\r\n    if(innerHTML !== \"All\"){\r\n      let fitlerBooks = newBooks.filter(book => book.categroy ===  innerHTML)\r\n      setBooks(fitlerBooks)\r\n    } \r\n    \r\n  }\r\n\r\n\r\n\r\n    return (\r\n\r\n      <div className=\"layout-wrapper row\">\r\n        <LeftBar categroys={props.categroys} onShow={filteredProjects}/>\r\n        <div className=\"column\">\r\n        <h2>Litteratur</h2>\r\n    {books.map((book) => (\r\n            <div className=\"book\" key={book.id} >\r\n            <Link to={`/book/${book.id}` }>\r\n            <Book book={book}/>\r\n            </Link>  \r\n            </div>\r\n        ))}\r\n        </div>\r\n      </div>\r\n    )\r\n   \r\n}\r\n \r\nexport default BookList;","\r\nimport useFetch from '../Composables/useFetch'\r\n\r\n\r\nimport Booklist from './Booklist'\r\nconst Home = (props) => {\r\n    const { data: books, isPending, error } = useFetch(\"book\");\r\n    \r\n\r\n    if(!isPending) {\r\n    return ( \r\n     <div>\r\n          {props.message === \"add\" && <h3 className=\"book-headline\"> New Book releases </h3>}\r\n          {props.message === \"edit\" && <h3 className=\"book-headline\"> Edit Book</h3>}\r\n        <h1 className=\"book-headline\">\r\n                E-b√∏ger\r\n        </h1>\r\n        \r\n            {error && <div>{error}</div>}\r\n                {books && <Booklist books={books} categroys={props.categroys}/>} \r\n    </div>    \r\n    );\r\n    } else{\r\n        return(\r\n            <div>Loading....</div>\r\n        )\r\n    }\r\n}\r\n \r\nexport default Home;","import { Link } from \"react-router-dom\"\r\n\r\nconst NotFound = () => {\r\n    return (\r\n        <div className=\"not-found\">\r\n            <h1>Wrong site</h1>\r\n            <p>That page cannot be found</p>\r\n            <Link to=\"/\">Back to the homepage...</Link>\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default NotFound;","import { useState } from \"react\";\r\nimport { projectFirestore } from \"../Firebase/config\";\r\n\r\nconst useDocument = (collection, id) => {\r\n  const [error, setError] = useState(null);\r\n\r\n  const [loading, setLoading] = useState(null);\r\n\r\n  const deleteDoc = () => {\r\n    let docRef = projectFirestore.collection(collection).doc(id);\r\n    try {\r\n      const res = docRef.delete();\r\n      return res;\r\n    } catch (err) {\r\n      setError(err.message);\r\n    }\r\n  };\r\n\r\n  const update = async (id, newValues) => {\r\n    \r\n    console.log(newValues)\r\n    setLoading(true);\r\n    try {\r\n      projectFirestore\r\n        .collection(collection)\r\n        .doc(id)\r\n        .update(newValues );\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const add = async (values) => {\r\n    setLoading(true);\r\n\r\n    try {\r\n      projectFirestore.collection(collection).add(values);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return { error, deleteDoc, update, add, loading };\r\n};\r\n\r\nexport default useDocument;\r\n","import { projectStorage } from '../Firebase/config'\r\nimport {useState} from 'react'\r\n\r\n\r\nconst useStorage = () => {\r\n  const [error,setError] = useState(null)\r\n  const [url,setUrl] = useState(null)\r\n  const [loadingUpload, setLoading] = useState(null);\r\n\r\n  const uploadImage = async (file) => {\r\n    //setFilePath(`images/`)\r\n    const storageRef = projectStorage.ref('images/').child(file.name);\r\n    setLoading(true)\r\n    try {\r\n      const res = await storageRef.put(file);\r\n      console.log(res)\r\n      res.ref.getDownloadURL().then(downloadUrl => {\r\n        setUrl(downloadUrl)\r\n        console.log(downloadUrl)\r\n        \r\n      });\r\n\r\n     \r\n    \r\n    } catch (err) {\r\n      console.log(err.message)\r\n      setError(err)\r\n    } finally{\r\n      setLoading(false)\r\n      console.log(\"why\", url)\r\n    }\r\n  }\r\n\r\n  return { uploadImage, url, error,loadingUpload }\r\n}\r\n\r\nexport default useStorage;","import React, { useState } from \"react\";\r\nimport useDocument from \"../Composables/useDocument\";\r\nimport { timestamp } from \"../Firebase/config\";\r\nimport {useHistory} from 'react-router-dom';\r\nimport useStorage from '../Composables/useStorage'\r\nconst AddBook = (props) => {\r\n\r\n    const [book, setBook] = useState({\r\n       author:\"\",\r\n       categroy: \"fantasy\",\r\n       detail: \"\",\r\n       title: \"\",\r\n       img : \"\"\r\n\r\n    });\r\n\r\n   const history = useHistory();\r\n    const { add , loading} = useDocument(\"book\");\r\n    //const categroys = [\"fantasy\",\"roman\",\"erindringer\",\"udlandet\",\"drama\"]\r\n    const {url, uploadImage, loadingUpload} = useStorage(\"book\");\r\n    const [file,setFile] = useState(null)\r\n    const types = ['image/png', 'image/jpeg']\r\n    const [fileError,setFileError] = useState(null)\r\n    const [uploadMessage,setUpMessage] = useState(null)\r\n    function handleChange(e){\r\n        \r\n        const {name , value} = e.target;\r\n        \r\n        setBook((prevBook) => {\r\n            return {\r\n                ...prevBook,\r\n                [name]: value\r\n            }\r\n        })\r\n      };\r\n\r\n      function handleUpdate(e){\r\n     \r\n            let selected = e.target.files[0]\r\n            console.log(selected)\r\n            if(selected && types.includes(selected.type)){\r\n                setFile(selected)\r\n                \r\n                setFileError(null)\r\n            } else{\r\n                setFile(null)\r\n                setFileError('please select an image file(png or jpg)')\r\n            }\r\n         \r\n        }\r\n\r\n        const handleClick = async (e) => {\r\n            e.preventDefault();\r\n            console.log(file);\r\n            if (file) {\r\n              await uploadImage(file);\r\n              setUpMessage(\"du har add et nyt billede\")\r\n            }\r\n          };\r\n           \r\n\r\n      const handleSubmit = (e) => {    \r\n        e.preventDefault()\r\n        console.log(url)\r\n        add({ author: book.author,\r\n        categroy: book.categroy,\r\n        detail: book.detail,\r\n        title:  book.title,\r\n        img: !url ? \"https://static.thenounproject.com/png/2451944-200.png\" : url,\r\n        createdAt: timestamp() });\r\n        \r\n        setBook({\r\n            author:\"\",\r\n            categroy: \"fantasy\",\r\n            detail: \"\",\r\n            title: \"\",\r\n            img: \"https://static.thenounproject.com/png/2451944-200.png\"\r\n         });\r\n        props.setMessage(\"add\")\r\n        history.push('/')\r\n      };\r\n\r\n    return ( <div>\r\n        <h1 className=\"book-headline\">Add Book</h1>\r\n        <div className=\"addbook\">\r\n            <form onSubmit={handleSubmit}>\r\n                \r\n                <div className=\"addbook-upload\">\r\n                   Img: <input name=\"img\" type=\"file\" onChange={handleUpdate} /> \r\n                    <button className=\"btn btn-secondary\" onClick={(e) => {handleClick(e)}} > upload </button>\r\n                </div>\r\n                {uploadMessage && <div>{uploadMessage}</div>}\r\n                <div className=\"addbook-form\" >\r\n            Title: <input type=\"text\"  value={book.title} name=\"title\"  onChange={handleChange}/>\r\n            Info: <textarea type=\"text\" rows=\"4\" value={book.detail} name=\"detail\"  onChange={handleChange}/>\r\n            Categroy: <select name=\"categroy\" value={book.categroy}onChange={handleChange}>\r\n                        {props.categroys.map((categroy,index)=>(\r\n                            <option name={categroy} key={index}>{categroy}</option>\r\n                            ))}\r\n                        </select>\r\n            Author:  <input type=\"text\" value={book.author} name=\"author\"  onChange={handleChange}/>\r\n           \r\n            {!loading && <button className=\"btn btn-secondary\" > add </button>}\r\n            {loading && <button disabled>Adding Book....</button>}\r\n            {fileError && <div>{fileError}</div>}\r\n            {loadingUpload && <div>Waiting for photo</div>}\r\n            </div>\r\n             </form>\r\n             </div>\r\n     \r\n      \r\n    </div> );\r\n}\r\n \r\nexport default AddBook;","import { useState, useEffect } from \"react\";\r\nimport { projectFirestore } from '../Firebase/config';\r\n\r\nconst useGetItem = (collection, id) => {\r\n    const [item,setItem] = useState(null);\r\n    const [error,setError] = useState(null);\r\n    useEffect(() => {\r\n    \r\n   \r\n    async function load(){\r\n        // \r\n        try {\r\n            let res =  await projectFirestore.collection(collection).doc(id).get()\r\n           setItem({...res.data(),id: res.id})\r\n                } catch (err) {\r\n            setError(err.message)\r\n            }    \r\n        }\r\n    load()\r\n    },[collection, id])\r\n    return {item,error}\r\n    \r\n}\r\n\r\n\r\nexport default useGetItem","import {useState} from \"react\"\r\nimport {useHistory} from 'react-router-dom';\r\nconst EditBooks = (props) => {\r\n    const history = useHistory()\r\n    const book = props.book\r\n    const [item,setItem] = useState(book)\r\n    const handleChange = (event) =>  {   \r\n        const {name , value} = event.target;\r\n      \r\n        setItem((prevBook) => {\r\n               return {\r\n               ...prevBook,\r\n               [name]: value\r\n               }\r\n           })\r\n       };\r\n      const handleSubmit = (e) =>{\r\n        e.preventDefault();\r\n        props.update(item.id,item)\r\n        props.setMessage(\"edit\")\r\n        history.push('/')\r\n      }\r\n\r\n    return ( <div className=\"editbook\">\r\n                   <form   onSubmit={handleSubmit}>\r\n                Title: <input type=\"text\"  value={item.title} name=\"title\"  onChange={handleChange}/>\r\n                Info: <textarea type=\"text\" rows=\"4\" value={item.detail} name=\"detail\"  onChange={handleChange}/>\r\n                Categroy: <select name=\"categroy\" value={item.categroy} onChange={handleChange}>\r\n                        {props.categroys.map((categroy,index)=>(\r\n                            <option name={categroy} key={index}>{categroy}</option>\r\n                            ))}\r\n                        </select>\r\n                Author:  <input type=\"text\" value={item.author} name=\"author\"  onChange={handleChange}/> \r\n            <button>Edit</button>\r\n        </form>\r\n   </div> );\r\n}\r\n \r\nexport default EditBooks;","import { useHistory, useParams } from \"react-router\";\r\nimport {useState} from \"react\"\r\nimport useGetItem from \"../Composables/useGetItem\";\r\nimport useDocument from \"../Composables/useDocument\";\r\nimport EditBooks from \"./EditBooks\"\r\n\r\nconst BlogDetails = (props) => {\r\n    const { id } = useParams()\r\n    let {item: book, error} = useGetItem('book', id)\r\n    const { deleteDoc,update } = useDocument(\"book\",id)\r\n    const [show, setShow] = useState(false);\r\n   \r\n\r\n\r\n      // console.log(item)\r\n    const history = useHistory()\r\n    const handleClick = (info) => {\r\n        if(info === \"delete\"){\r\n            if(id){\r\n                 deleteDoc(id)\r\n                 history.push('/')\r\n            }\r\n        } else if(info === \"edit\"){\r\n            setShow(!show);\r\n        }\r\n    }\r\n    return (  \r\n        <div className=\"book-details\">\r\n           {error && <div>{error}</div>}\r\n           {book && (\r\n               <article>\r\n                    <img src={book.img} className=\"img\" alt=\"books\" />\r\n                   <div className=\"book-details-text\">\r\n                   <h2>{book.title}</h2>\r\n                   <h3>info</h3>\r\n                    <p>{book.detail}</p>\r\n                    <h3>Written by </h3>\r\n                   <p>{book.author}</p>\r\n                   <h3>Categroy </h3>\r\n                   <p>{book.categroy}</p>\r\n                   </div>\r\n                   <button onClick={() => handleClick(\"edit\")}>Charge</button>\r\n                   <button onClick={() => handleClick(\"delete\")}>Delete</button>\r\n                  \r\n                   {show && (\r\n                       <EditBooks book={book} update={update} id={id} categroys={props.categroys} setMessage={props.setMessage}/>\r\n                    )}\r\n                </article>\r\n           )}\r\n           {error && <div>Error...</div>}\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default BlogDetails;","\nimport Navbar from './Navbar';\nimport Home from './Home';\nimport NotFound from './NotFound';\nimport AddBook from './AddBook';\nimport BookDetails from './BookDetails';\nimport { useState } from \"react\";\n\n\n\nimport {BrowserRouter as Router, Route,Switch} from 'react-router-dom';\nfunction App() {\n\n  const [message, setMessage] = useState(\"\")\n  const categroys = [\"fantasy\",\"roman\",\"erindringer\",\"udlandet\",\"drama\"]\n\n  return (\n    <Router>\n    <div className=\"App\">\n     <Navbar/>\n     <div className=\"content\">\n     <Switch>\n     \n        <Route exact path=\"/\">\n          <Home categroys={categroys} message={message}/>\n        </Route>\n          <Route path=\"/addbook\">\n             <AddBook setMessage={setMessage} categroys={categroys}/>\n          </Route>\n          <Route path=\"/book/:id\">\n              <BookDetails categroys={categroys}  setMessage={setMessage}/>\n            </Route>\n          <Route path=\"*\">\n              <NotFound />\n          </Route>\n      </Switch>\n      </div>\n    </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}